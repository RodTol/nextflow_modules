nextflow.enable.dsl=2
cleanup=true

includeConfig "$baseDir/config/params.config"

 singularity {
     enabled = true
     runOptions = '--bind /scratch:/scratch/,/large:/large,/cdslab_long_term_storage:/cdslab_long_term_storage'
 }
 
// process{
//   // executor='slurm'
//   // queue='THIN'
//   executor='pbspro'
//   queue='gpu'
//   maxForks=16
//   errorStrategy  = 'terminate'
// }

process {
//
//    withName: SEQUENZA_EXTRACT {
//      container = "quay.io/biocontainers/r-sequenza:3.0.0--r42h3342da4_5"
//    }
//    
  withName: 'VEP_ANNOTATE' {
    time='12h'
    container = 'https://depot.galaxyproject.org/singularity/ensembl-vep:108.2--pl5321h4a94de4_0'
  }

  withName: 'PLATYPUS_CALL_VARIANTS' {
    time='24h'
    container = 'https://depot.galaxyproject.org/singularity/platypus-variant%3A0.8.1.1--htslib1.5_0'
  }

  withName: 'BCFTOOLS_SPLIT_VEP' {
      container = 'https://depot.galaxyproject.org/singularity/bcftools%3A1.14--hde04aa1_1'
  }
}
